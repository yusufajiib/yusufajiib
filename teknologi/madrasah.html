<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Madrasah Al-Hikmah - Website Resmi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #166534 0%, #16a34a 50%, #22c55e 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center">
                        <span class="text-2xl">ğŸ•Œ</span>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold">Madrasah Hasyim Asy'ari 1 Kudus</h1>
                        <p class="text-green-100 text-sm">Mencerdaskan Generasi Islami</p>
                    </div>
                </div>
                <nav class="hidden md:flex space-x-6">
                    <a href="#" onclick="showHome()" class="hover:text-green-200 transition-colors font-medium">Beranda</a>
                    <a href="#" onclick="showAbout()" class="hover:text-green-200 transition-colors font-medium">Tentang</a>
                    <a href="#" onclick="showContact()" class="hover:text-green-200 transition-colors font-medium">Kontak</a>
                    <a href="#" onclick="showAdminPanel()" class="hover:text-green-200 transition-colors font-medium">âš™ï¸ Admin</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="gradient-bg text-white py-16">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-4xl md:text-5xl font-bold mb-6">Selamat Datang di Madrasah Hasyim Asy'ari 1 Kudus</h2>
            <p class="text-xl text-green-100 mb-8 max-w-3xl mx-auto">Lembaga pendidikan Islam yang mengintegrasikan ilmu agama dan umum untuk membentuk generasi yang berakhlak mulia dan berprestasi</p>
            <button class="bg-white text-green-600 px-8 py-3 rounded-lg font-semibold hover:bg-green-50 transition-colors">Pelajari Lebih Lanjut</button>
        </div>
    </section>

    <!-- Search Section -->
    <section class="py-8 bg-gray-100">
        <div class="container mx-auto px-6">
            <div class="max-w-2xl mx-auto">
                <div class="relative">
                    <input type="text" id="searchInput" placeholder="Cari informasi, kategori, atau konten..." 
                           class="w-full px-6 py-4 pr-12 text-lg border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent">
                    <button onclick="performSearch()" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-green-600 hover:text-green-700">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>
                </div>
                <div id="searchResults" class="mt-4 hidden">
                    <div class="bg-white rounded-lg shadow-md p-4">
                        <h4 class="font-semibold text-gray-800 mb-3">Hasil Pencarian:</h4>
                        <div id="searchResultsList"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Categories -->
    <section class="py-16" id="categoriesSection">
        <div class="container mx-auto px-6">
            <h3 class="text-3xl font-bold text-center text-gray-800 mb-12">Kategori Utama</h3>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="categoriesGrid">
                <!-- Categories will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Content Area -->
    <section class="py-16 bg-white" id="contentSection" style="display: none;">
        <div class="container mx-auto px-6">
            <div class="flex items-center mb-8">
                <button id="backButton" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors mr-4">â† Kembali</button>
                <h3 id="contentTitle" class="text-3xl font-bold text-gray-800"></h3>
            </div>
            <div id="contentArea" class="grid gap-6">
                <!-- Dynamic content will be loaded here -->
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="py-16 bg-white" id="aboutSection" style="display: none;">
        <div class="container mx-auto px-6">
            <div class="flex items-center mb-8">
                <button onclick="showHome()" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors mr-4">â† Kembali</button>
                <h3 class="text-3xl font-bold text-gray-800">Tentang Madrasah</h3>
            </div>
            <div class="grid md:grid-cols-2 gap-12">
                <div>
                    <h4 class="text-2xl font-semibold text-gray-800 mb-4">Sejarah Singkat</h4>
                    <p class="text-gray-600 mb-6">Madrasah Hasyim Asy'ari 1 Kudus didirikan pada tahun 1985 dengan visi menjadi lembaga pendidikan Islam terdepan di Kudus. Nama madrasah diambil dari tokoh ulama besar KH. Hasyim Asy'ari, pendiri Nahdlatul Ulama.</p>
                    
                    <h4 class="text-2xl font-semibold text-gray-800 mb-4">Visi</h4>
                    <p class="text-gray-600 mb-6">Menjadi madrasah unggul yang menghasilkan generasi muslim yang berakhlak mulia, berprestasi, dan siap menghadapi tantangan zaman.</p>
                    
                    <h4 class="text-2xl font-semibold text-gray-800 mb-4">Misi</h4>
                    <ul class="text-gray-600 space-y-2">
                        <li>â€¢ Menyelenggarakan pendidikan Islam yang berkualitas</li>
                        <li>â€¢ Mengintegrasikan ilmu agama dan umum</li>
                        <li>â€¢ Membentuk karakter siswa yang berakhlak mulia</li>
                        <li>â€¢ Mengembangkan potensi siswa secara optimal</li>
                    </ul>
                </div>
                <div>
                    <div class="bg-green-50 p-6 rounded-lg">
                        <h4 class="text-2xl font-semibold text-gray-800 mb-4">Data Madrasah</h4>
                        <div class="space-y-3">
                            <div class="flex justify-between">
                                <span class="text-gray-600">Tahun Berdiri:</span>
                                <span class="font-semibold">1985</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Jumlah Siswa:</span>
                                <span class="font-semibold">850 siswa</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Jumlah Guru:</span>
                                <span class="font-semibold">45 guru</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Akreditasi:</span>
                                <span class="font-semibold">A</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Luas Tanah:</span>
                                <span class="font-semibold">2.5 Ha</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="py-16 bg-white" id="contactSection" style="display: none;">
        <div class="container mx-auto px-6">
            <div class="flex items-center mb-8">
                <button onclick="showHome()" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors mr-4">â† Kembali</button>
                <h3 class="text-3xl font-bold text-gray-800">Kontak Kami</h3>
            </div>
            <div class="grid md:grid-cols-2 gap-12">
                <div>
                    <h4 class="text-2xl font-semibold text-gray-800 mb-6">Informasi Kontak</h4>
                    <div class="space-y-4">
                        <div class="flex items-start space-x-3">
                            <span class="text-2xl">ğŸ“</span>
                            <div>
                                <h5 class="font-semibold text-gray-800">Alamat</h5>
                                <p class="text-gray-600">Jl. KH. Hasyim Asy'ari No. 15, Kudus, Jawa Tengah 59311</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <span class="text-2xl">ğŸ“</span>
                            <div>
                                <h5 class="font-semibold text-gray-800">Telepon</h5>
                                <p class="text-gray-600">(0291) 438-567</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <span class="text-2xl">âœ‰ï¸</span>
                            <div>
                                <h5 class="font-semibold text-gray-800">Email</h5>
                                <p class="text-gray-600">info@mhasyim1kudus.sch.id</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <span class="text-2xl">ğŸŒ</span>
                            <div>
                                <h5 class="font-semibold text-gray-800">Website</h5>
                                <p class="text-gray-600">www.mhasyim1kudus.sch.id</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <h4 class="text-2xl font-semibold text-gray-800 mb-6">Kirim Pesan</h4>
                    <form class="space-y-4">
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Nama Lengkap</label>
                            <input type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Email</label>
                            <input type="email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Subjek</label>
                            <input type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Pesan</label>
                            <textarea rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"></textarea>
                        </div>
                        <button type="button" onclick="alert('Demo: Pesan akan dikirim ke admin madrasah')" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors">
                            Kirim Pesan
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Admin Panel -->
    <section class="py-16 bg-gray-100" id="adminPanel" style="display: none;">
        <div class="container mx-auto px-6">
            <div class="flex items-center justify-between mb-8">
                <h3 class="text-3xl font-bold text-gray-800">Panel Admin - Database Spreadsheet</h3>
                <button onclick="hideAdminPanel()" class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors">âœ• Tutup</button>
            </div>
            
            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h4 class="text-xl font-semibold text-gray-800 mb-4">ğŸ“Š Konfigurasi Database</h4>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">URL Google Sheets:</label>
                            <input type="text" id="spreadsheetUrlInput" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm" placeholder="https://docs.google.com/spreadsheets/d/1234567890/export?format=csv" value="https://docs.google.com/spreadsheets/d/e/2PACX-1vQ5vDy3F48859hKrX3ISA6geOB5AnNF_-9IEKwB5ihFY3cPHZ3vP5GoECFmR0oAiIh7Nx-dkSiB7leW/pub?output=csv">
                        </div>
                        <div class="flex space-x-3">
                            <button onclick="updateSpreadsheetUrl()" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors">
                                ğŸ’¾ Simpan URL
                            </button>
                            <button onclick="refreshData()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                                ğŸ”„ Refresh Data
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h4 class="text-xl font-semibold text-gray-800 mb-4">ğŸ“‹ Format Spreadsheet Sederhana</h4>
                    <div class="space-y-4 text-sm">
                        <p class="text-gray-600">Cukup buat 1 sheet dengan kolom berikut:</p>
                        <div class="bg-gray-50 p-4 rounded border">
                            <table class="w-full text-xs">
                                <thead>
                                    <tr class="border-b">
                                        <th class="text-left p-1">Kategori</th>
                                        <th class="text-left p-1">Judul Item</th>
                                        <th class="text-left p-1">Deskripsi</th>
                                        <th class="text-left p-1">Icon</th>
                                        <th class="text-left p-1">Warna</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="p-1">Kurikulum</td>
                                        <td class="p-1">Kurikulum Merdeka</td>
                                        <td class="p-1">Implementasi kurikulum terbaru</td>
                                        <td class="p-1">ğŸ¯</td>
                                        <td class="p-1">hijau</td>
                                    </tr>
                                    <tr>
                                        <td class="p-1">Kurikulum</td>
                                        <td class="p-1">Mata Pelajaran Agama</td>
                                        <td class="p-1">Al-Quran Hadits dan Akidah</td>
                                        <td class="p-1">â˜ªï¸</td>
                                        <td class="p-1">hijau</td>
                                    </tr>
                                    <tr>
                                        <td class="p-1">Kesiswaan</td>
                                        <td class="p-1">Pendaftaran Siswa Baru</td>
                                        <td class="p-1">Info penerimaan siswa baru</td>
                                        <td class="p-1">ğŸ“</td>
                                        <td class="p-1">biru</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <p class="text-xs text-gray-500">
                            <strong>Warna yang tersedia:</strong> hijau, biru, ungu, orange, merah, teal
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="mt-8 bg-white p-6 rounded-lg shadow-md">
                <h4 class="text-xl font-semibold text-gray-800 mb-4">ğŸ“ Cara Setup Google Sheets (Super Mudah!)</h4>
                <div class="space-y-4 text-sm">
                    <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                        <h5 class="font-semibold text-blue-800 mb-2">ğŸš€ Langkah Mudah (3 menit saja!):</h5>
                        <ol class="list-decimal list-inside space-y-2 text-blue-700">
                            <li><strong>Buka Google Sheets</strong> â†’ Buat spreadsheet baru</li>
                            <li><strong>Copy data lengkap</strong> dari kotak hijau di bawah</li>
                            <li><strong>Paste di cell A1</strong> â†’ Data otomatis tersusun dalam kolom</li>
                            <li><strong>Klik File</strong> â†’ Share â†’ Publish to web</li>
                            <li><strong>Pilih "Entire Document"</strong> dan format "CSV"</li>
                            <li><strong>Copy URL</strong> yang muncul dan paste ke field di atas</li>
                            <li><strong>Klik "Simpan URL"</strong> lalu "Refresh Data"</li>
                        </ol>
                    </div>
                    
                    <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                        <h5 class="font-semibold text-green-800 mb-2">âœ… Data Lengkap Siap Copy-Paste:</h5>
                        <p class="text-green-700 mb-2"><strong>Cara:</strong> Klik tombol "Copy Data" â†’ Buka Google Sheets â†’ Paste di cell A1</p>
                        <div class="relative">
                            <button onclick="copyDataToClipboard()" class="absolute top-2 right-2 bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 z-10">
                                ğŸ“‹ Copy Data
                            </button>
                            <textarea id="spreadsheetData" readonly class="w-full h-64 p-3 bg-white border rounded font-mono text-xs resize-none overflow-auto">Kategori,Judul Item,Deskripsi,Icon,Warna
Kurikulum,Kurikulum Merdeka,Implementasi kurikulum terbaru dengan pendekatan student-centered learning,ğŸ¯,hijau
Kurikulum,Mata Pelajaran Agama,Al-Quran Hadits Akidah Akhlak Fiqh dan Sejarah Kebudayaan Islam,â˜ªï¸,hijau
Kurikulum,Mata Pelajaran Umum,Matematika IPA IPS Bahasa Indonesia dan Bahasa Inggris dengan standar nasional,ğŸ”¬,hijau
Kurikulum,Ekstrakurikuler,Program Tahfidz Pramuka Olahraga Seni dan Teknologi untuk mengembangkan bakat siswa,ğŸ†,hijau
Kesiswaan,Pendaftaran Siswa Baru,Informasi lengkap proses penerimaan siswa baru tahun ajaran 2024/2025,ğŸ“,biru
Kesiswaan,Tata Tertib Sekolah,Peraturan dan tata tertib yang harus dipatuhi oleh seluruh siswa,ğŸ“‹,biru
Kesiswaan,Organisasi Siswa,OSIS MPK dan berbagai organisasi siswa lainnya sebagai wadah kepemimpinan,ğŸ¤,biru
Kesiswaan,Prestasi Siswa,Daftar prestasi akademik dan non-akademik siswa di berbagai tingkat kompetisi,ğŸ…,biru
Fasilitas,Ruang Kelas,32 ruang kelas ber-AC dengan fasilitas multimedia dan akses internet,ğŸ«,ungu
Fasilitas,Laboratorium,Lab IPA Lab Komputer dan Lab Bahasa dengan peralatan lengkap dan modern,ğŸ”¬,ungu
Fasilitas,Perpustakaan,Koleksi 5000+ buku referensi dan ruang baca yang nyaman dengan sistem digital,ğŸ“–,ungu
Fasilitas,Masjid,Masjid dengan kapasitas 500 jamaah untuk kegiatan ibadah dan peringatan hari besar,ğŸ•Œ,ungu
Fasilitas,Lapangan Olahraga,Lapangan basket voli dan sepak bola untuk kegiatan olahraga dan ekstrakurikuler,âš½,ungu
Fasilitas,Kantin Sehat,Kantin dengan menu makanan sehat dan bergizi untuk mendukung kesehatan siswa,ğŸ½ï¸,ungu
Tenaga Pendidik,Profil Guru,Tim pengajar berpengalaman dengan kualifikasi S1 dan S2 bersertifikat pendidik,ğŸ“,orange
Tenaga Pendidik,Pengembangan Profesi,Program pelatihan dan sertifikasi guru berkelanjutan untuk meningkatkan kualitas,ğŸ“ˆ,orange
Tenaga Pendidik,Struktur Organisasi,Susunan kepemimpinan dan struktur organisasi sekolah yang jelas dan profesional,ğŸ›ï¸,orange
Tenaga Pendidik,Prestasi Guru,Penghargaan dan prestasi yang diraih para pendidik di tingkat regional dan nasional,ğŸŒŸ,orange
Kegiatan Sekolah,Agenda Bulanan,Kalender kegiatan dan acara sekolah setiap bulan termasuk ujian dan ekstrakurikuler,ğŸ“…,merah
Kegiatan Sekolah,Peringatan Hari Besar,Perayaan hari besar Islam dan nasional dengan berbagai kegiatan menarik,ğŸŠ,merah
Kegiatan Sekolah,Study Tour,Program kunjungan edukatif ke berbagai tempat bersejarah dan pusat pembelajaran,ğŸšŒ,merah
Kegiatan Sekolah,Lomba dan Kompetisi,Berbagai kompetisi akademik dan non-akademik tingkat sekolah hingga nasional,ğŸ†,merah
Kegiatan Sekolah,Pesantren Kilat,Program pesantren kilat selama bulan Ramadan untuk memperdalam pemahaman agama,ğŸŒ™,merah
Kegiatan Sekolah,Bakti Sosial,Kegiatan bakti sosial dan pengabdian masyarakat sebagai implementasi nilai Islam,ğŸ¤²,merah
Informasi,Pengumuman Terbaru,Informasi dan pengumuman penting dari sekolah terkait pembelajaran dan administrasi,ğŸ“¢,teal
Informasi,Berita Sekolah,Berita dan artikel tentang kegiatan sekolah prestasi siswa dan program unggulan,ğŸ“°,teal
Informasi,Galeri Foto,Dokumentasi kegiatan dan momen penting sekolah dalam bentuk foto dan video,ğŸ“¸,teal
Informasi,Kontak Darurat,Nomor telepon penting dan kontak darurat untuk keperluan mendesak,ğŸš¨,teal
Informasi,Jadwal Pelajaran,Jadwal pelajaran harian dan mingguan untuk semua tingkat kelas,â°,teal
Informasi,Kalender Akademik,Kalender akademik tahunan dengan jadwal libur ujian dan kegiatan penting,ğŸ“†,teal</textarea>
                        </div>
                        <div id="copyMessage" class="mt-2 text-green-600 text-sm hidden">âœ… Data berhasil di-copy! Sekarang paste di Google Sheets cell A1</div>
                    </div>
                </div>
                <div class="mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
                    <p class="text-yellow-800 text-sm">
                        <strong>ğŸ’¡ Tips:</strong> Setelah mengubah data di Google Sheets, klik tombol "Refresh Data" untuk memuat perubahan terbaru.
                        Tambah baris baru = kategori/item baru otomatis muncul di website!
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-3 gap-8">
                <div>
                    <div class="flex items-center space-x-3 mb-4">
                        <span class="text-2xl">ğŸ•Œ</span>
                        <h4 class="text-xl font-bold">Madrasah Hasyim Asy'ari 1 Kudus</h4>
                    </div>
                    <p class="text-gray-300">Lembaga pendidikan Islam terpercaya yang telah berdiri sejak 1985</p>
                </div>
                <div>
                    <h5 class="font-semibold mb-4">Kontak</h5>
                    <div class="space-y-2 text-gray-300">
                        <p>ğŸ“ Jl. KH. Hasyim Asy'ari No. 15, Kudus</p>
                        <p>ğŸ“ (0291) 438-567</p>
                        <p>âœ‰ï¸ info@mhasyim1kudus.sch.id</p>
                    </div>
                </div>
                <div>
                    <h5 class="font-semibold mb-4">Jam Operasional</h5>
                    <div class="space-y-2 text-gray-300">
                        <p>Senin - Jumat: 07:00 - 15:00</p>
                        <p>Sabtu: 07:00 - 12:00</p>
                        <p>Minggu: Libur</p>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-300">
                <p>&copy; 2024 Madrasah Hasyim Asy'ari 1 Kudus. Semua hak dilindungi.</p>
            </div>
        </div>
    </footer>

    <script>
        // Database configuration - URL Google Sheets
        let SPREADSHEET_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQ5vDy3F48859hKrX3ISA6geOB5AnNF_-9IEKwB5ihFY3cPHZ3vP5GoECFmR0oAiIh7Nx-dkSiB7leW/pub?output=csv';

        // Default categories (fallback jika spreadsheet tidak tersedia)
        let categories = {
            kurikulum: {
                title: "Kurikulum",
                icon: "ğŸ“š",
                color: "bg-green-500",
                items: [
                    { title: "Kurikulum Merdeka", desc: "Implementasi kurikulum terbaru dengan pendekatan student-centered learning", icon: "ğŸ¯" },
                    { title: "Mata Pelajaran Agama", desc: "Al-Quran Hadits, Akidah Akhlak, Fiqh, dan Sejarah Kebudayaan Islam", icon: "â˜ªï¸" },
                    { title: "Mata Pelajaran Umum", desc: "Matematika, IPA, IPS, Bahasa Indonesia, dan Bahasa Inggris", icon: "ğŸ”¬" },
                    { title: "Ekstrakurikuler", desc: "Tahfidz, Pramuka, Olahraga, Seni, dan Teknologi", icon: "ğŸ†" }
                ]
            },
            kesiswaan: {
                title: "Kesiswaan",
                icon: "ğŸ‘¥",
                color: "bg-blue-500",
                items: [
                    { title: "Pendaftaran Siswa Baru", desc: "Informasi lengkap proses penerimaan siswa baru tahun ajaran 2024/2025", icon: "ğŸ“" },
                    { title: "Tata Tertib Sekolah", desc: "Peraturan dan tata tertib yang harus dipatuhi oleh seluruh siswa", icon: "ğŸ“‹" },
                    { title: "Organisasi Siswa", desc: "OSIS, MPK, dan berbagai organisasi siswa lainnya", icon: "ğŸ¤" },
                    { title: "Prestasi Siswa", desc: "Daftar prestasi akademik dan non-akademik siswa", icon: "ğŸ…" }
                ]
            },
            fasilitas: {
                title: "Fasilitas",
                icon: "ğŸ¢",
                color: "bg-purple-500",
                items: [
                    { title: "Ruang Kelas", desc: "32 ruang kelas ber-AC dengan fasilitas multimedia", icon: "ğŸ«" },
                    { title: "Laboratorium", desc: "Lab IPA, Lab Komputer, dan Lab Bahasa", icon: "ğŸ”¬" },
                    { title: "Perpustakaan", desc: "Koleksi 5000+ buku dan ruang baca yang nyaman", icon: "ğŸ“–" },
                    { title: "Masjid", desc: "Masjid dengan kapasitas 500 jamaah untuk kegiatan ibadah", icon: "ğŸ•Œ" }
                ]
            },
            guru: {
                title: "Tenaga Pendidik",
                icon: "ğŸ‘¨â€ğŸ«",
                color: "bg-orange-500",
                items: [
                    { title: "Profil Guru", desc: "Tim pengajar berpengalaman dengan kualifikasi S1 dan S2", icon: "ğŸ“" },
                    { title: "Pengembangan Profesi", desc: "Program pelatihan dan sertifikasi guru berkelanjutan", icon: "ğŸ“ˆ" },
                    { title: "Struktur Organisasi", desc: "Susunan kepemimpinan dan struktur organisasi sekolah", icon: "ğŸ›ï¸" },
                    { title: "Prestasi Guru", desc: "Penghargaan dan prestasi yang diraih para pendidik", icon: "ğŸŒŸ" }
                ]
            },
            kegiatan: {
                title: "Kegiatan Sekolah",
                icon: "ğŸ‰",
                color: "bg-red-500",
                items: [
                    { title: "Agenda Bulanan", desc: "Kalender kegiatan dan acara sekolah setiap bulan", icon: "ğŸ“…" },
                    { title: "Peringatan Hari Besar", desc: "Perayaan hari besar Islam dan nasional", icon: "ğŸŠ" },
                    { title: "Study Tour", desc: "Program kunjungan edukatif ke berbagai tempat bersejarah", icon: "ğŸšŒ" },
                    { title: "Lomba dan Kompetisi", desc: "Berbagai kompetisi akademik dan non-akademik", icon: "ğŸ†" }
                ]
            },
            informasi: {
                title: "Informasi",
                icon: "â„¹ï¸",
                color: "bg-teal-500",
                items: [
                    { title: "Pengumuman Terbaru", desc: "Informasi dan pengumuman penting dari sekolah", icon: "ğŸ“¢" },
                    { title: "Berita Sekolah", desc: "Berita dan artikel tentang kegiatan sekolah", icon: "ğŸ“°" },
                    { title: "Galeri Foto", desc: "Dokumentasi kegiatan dan momen penting sekolah", icon: "ğŸ“¸" },
                    { title: "Kontak Darurat", desc: "Nomor telepon penting dan kontak darurat", icon: "ğŸš¨" }
                ]
            }
        };

        // Function to copy data to clipboard
        function copyDataToClipboard() {
            const textarea = document.getElementById('spreadsheetData');
            textarea.select();
            textarea.setSelectionRange(0, 99999); // For mobile devices
            
            try {
                document.execCommand('copy');
                const message = document.getElementById('copyMessage');
                message.classList.remove('hidden');
                setTimeout(() => {
                    message.classList.add('hidden');
                }, 3000);
            } catch (err) {
                alert('Gagal copy data. Silakan copy manual dari kotak teks.');
            }
        }

        // Function to parse CSV data
        function parseCSV(csvText) {
            const lines = csvText.split('\n');
            const headers = lines[0].split(',').map(h => h.trim().replace(/"/g, ''));
            const data = [];
            
            for (let i = 1; i < lines.length; i++) {
                if (lines[i].trim()) {
                    const values = lines[i].split(',').map(v => v.trim().replace(/"/g, ''));
                    const row = {};
                    headers.forEach((header, index) => {
                        row[header] = values[index] || '';
                    });
                    data.push(row);
                }
            }
            return data;
        }

        // Function to load data from spreadsheet
        async function loadDataFromSpreadsheet() {
            try {
                showLoadingMessage();
                
                // Load data from single spreadsheet
                const response = await fetch(SPREADSHEET_URL);
                if (response.ok) {
                    const csvText = await response.text();
                    const data = parseCSV(csvText);
                    
                    // Process and structure the data
                    categories = processSimpleSpreadsheetData(data);
                    hideLoadingMessage();
                    renderCategories();
                    console.log('Data berhasil dimuat dari spreadsheet');
                } else {
                    throw new Error('Gagal memuat data dari spreadsheet');
                }
            } catch (error) {
                console.warn('Menggunakan data default karena:', error.message);
                hideLoadingMessage();
                renderCategories();
            }
        }

        // Function to process simple spreadsheet data into categories structure
        function processSimpleSpreadsheetData(data) {
            const processedCategories = {};
            const colorMap = {
                'hijau': 'bg-green-500',
                'biru': 'bg-blue-500', 
                'ungu': 'bg-purple-500',
                'orange': 'bg-orange-500',
                'merah': 'bg-red-500',
                'teal': 'bg-teal-500'
            };
            
            // Process each row
            data.forEach(row => {
                const categoryName = row['Kategori'] || row['kategori'];
                const itemTitle = row['Judul Item'] || row['judul_item'] || row['title'];
                const itemDesc = row['Deskripsi'] || row['deskripsi'] || row['description'];
                const itemIcon = row['Icon'] || row['icon'] || 'ğŸ“„';
                const colorName = (row['Warna'] || row['warna'] || 'hijau').toLowerCase();
                
                if (categoryName && itemTitle) {
                    // Create category key from name
                    const categoryKey = categoryName.toLowerCase().replace(/\s+/g, '_');
                    
                    // Initialize category if not exists
                    if (!processedCategories[categoryKey]) {
                        // Get category icon based on name
                        let categoryIcon = 'ğŸ“';
                        if (categoryName.toLowerCase().includes('kurikulum')) categoryIcon = 'ğŸ“š';
                        else if (categoryName.toLowerCase().includes('siswa')) categoryIcon = 'ğŸ‘¥';
                        else if (categoryName.toLowerCase().includes('fasilitas')) categoryIcon = 'ğŸ¢';
                        else if (categoryName.toLowerCase().includes('guru') || categoryName.toLowerCase().includes('pendidik')) categoryIcon = 'ğŸ‘¨â€ğŸ«';
                        else if (categoryName.toLowerCase().includes('kegiatan')) categoryIcon = 'ğŸ‰';
                        else if (categoryName.toLowerCase().includes('informasi')) categoryIcon = 'â„¹ï¸';
                        
                        processedCategories[categoryKey] = {
                            title: categoryName,
                            icon: categoryIcon,
                            color: colorMap[colorName] || 'bg-gray-500',
                            items: []
                        };
                    }
                    
                    // Add item to category
                    processedCategories[categoryKey].items.push({
                        title: itemTitle,
                        desc: itemDesc || "Tidak ada deskripsi",
                        icon: itemIcon
                    });
                }
            });
            
            return processedCategories;
        }

        // Loading message functions
        function showLoadingMessage() {
            const grid = document.getElementById('categoriesGrid');
            grid.innerHTML = `
                <div class="col-span-full text-center py-12">
                    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"></div>
                    <p class="text-gray-600">Memuat data dari database...</p>
                </div>
            `;
        }

        function hideLoadingMessage() {
            // Loading message will be replaced by renderCategories()
        }

        function renderCategories() {
            const grid = document.getElementById('categoriesGrid');
            grid.innerHTML = '';
            
            Object.keys(categories).forEach(key => {
                const category = categories[key];
                const card = document.createElement('div');
                card.className = `${category.color} text-white p-8 rounded-xl card-hover cursor-pointer`;
                card.innerHTML = `
                    <div class="text-4xl mb-4">${category.icon}</div>
                    <h4 class="text-2xl font-bold mb-3">${category.title}</h4>
                    <p class="text-white/90 mb-4">Klik untuk melihat detail informasi ${category.title.toLowerCase()}</p>
                    <div class="flex items-center text-white/80">
                        <span class="mr-2">Lihat Detail</span>
                        <span>â†’</span>
                    </div>
                `;
                card.addEventListener('click', () => showCategory(key));
                grid.appendChild(card);
            });
        }

        function showCategory(categoryKey) {
            const category = categories[categoryKey];
            const contentSection = document.getElementById('contentSection');
            const contentTitle = document.getElementById('contentTitle');
            const contentArea = document.getElementById('contentArea');
            
            contentTitle.textContent = category.title;
            contentArea.innerHTML = '';
            
            category.items.forEach(item => {
                const itemCard = document.createElement('div');
                itemCard.className = 'bg-white p-6 rounded-lg shadow-md border border-gray-200 card-hover';
                itemCard.innerHTML = `
                    <div class="flex items-start space-x-4">
                        <div class="text-3xl">${item.icon}</div>
                        <div class="flex-1">
                            <h5 class="text-xl font-semibold text-gray-800 mb-2">${item.title}</h5>
                            <p class="text-gray-600">${item.desc}</p>
                            <button class="mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm">
                                Pelajari Lebih Lanjut
                            </button>
                        </div>
                    </div>
                `;
                contentArea.appendChild(itemCard);
            });
            
            // Hide categories section and search section
            document.getElementById('categoriesSection').style.display = 'none';
            document.querySelector('.py-8.bg-gray-100').style.display = 'none';
            document.getElementById('searchResults').classList.add('hidden');
            
            // Show content section
            contentSection.style.display = 'block';
            
            // Scroll to content
            contentSection.scrollIntoView({ behavior: 'smooth' });
        }

        function showCategories() {
            // Show categories section and search section
            document.getElementById('categoriesSection').style.display = 'block';
            document.querySelector('.py-8.bg-gray-100').style.display = 'block';
            
            // Hide content section
            document.getElementById('contentSection').style.display = 'none';
            
            // Clear search results
            document.getElementById('searchResults').classList.add('hidden');
            document.getElementById('searchInput').value = '';
            
            // Scroll to categories
            document.getElementById('categoriesSection').scrollIntoView({ behavior: 'smooth' });
        }

        // Search functionality
        function performSearch() {
            const query = document.getElementById('searchInput').value.toLowerCase().trim();
            const searchResults = document.getElementById('searchResults');
            const searchResultsList = document.getElementById('searchResultsList');
            
            if (query === '') {
                searchResults.classList.add('hidden');
                return;
            }
            
            let results = [];
            
            // Search through categories and items
            Object.keys(categories).forEach(key => {
                const category = categories[key];
                
                // Check category title
                if (category.title.toLowerCase().includes(query)) {
                    results.push({
                        type: 'category',
                        title: category.title,
                        desc: `Kategori ${category.title}`,
                        action: () => showCategory(key)
                    });
                }
                
                // Check category items
                category.items.forEach(item => {
                    if (item.title.toLowerCase().includes(query) || item.desc.toLowerCase().includes(query)) {
                        results.push({
                            type: 'item',
                            title: item.title,
                            desc: item.desc,
                            category: category.title,
                            action: () => showCategory(key)
                        });
                    }
                });
            });
            
            // Display results
            if (results.length > 0) {
                searchResultsList.innerHTML = results.map(result => `
                    <div class="p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50" onclick="result.action()">
                        <div class="flex items-start space-x-3">
                            <span class="text-lg">${result.type === 'category' ? 'ğŸ“' : 'ğŸ“„'}</span>
                            <div>
                                <h6 class="font-medium text-gray-800">${result.title}</h6>
                                <p class="text-sm text-gray-600">${result.desc}</p>
                                ${result.category ? `<span class="text-xs text-green-600">dalam ${result.category}</span>` : ''}
                            </div>
                        </div>
                    </div>
                `).join('');
                searchResults.classList.remove('hidden');
            } else {
                searchResultsList.innerHTML = '<p class="text-gray-500 text-center py-4">Tidak ada hasil yang ditemukan</p>';
                searchResults.classList.remove('hidden');
            }
        }
        
        // Navigation functions
        function showHome() {
            // Hide all sections
            document.getElementById('contentSection').style.display = 'none';
            document.getElementById('aboutSection').style.display = 'none';
            document.getElementById('contactSection').style.display = 'none';
            document.getElementById('searchResults').classList.add('hidden');
            
            // Show home sections
            document.getElementById('categoriesSection').style.display = 'block';
            document.querySelector('.py-8.bg-gray-100').style.display = 'block';
            
            // Clear search
            document.getElementById('searchInput').value = '';
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        function showAbout() {
            // Hide all sections
            document.getElementById('categoriesSection').style.display = 'none';
            document.getElementById('contentSection').style.display = 'none';
            document.getElementById('contactSection').style.display = 'none';
            document.querySelector('.py-8.bg-gray-100').style.display = 'none';
            
            // Show about section
            document.getElementById('aboutSection').style.display = 'block';
            
            // Scroll to section
            document.getElementById('aboutSection').scrollIntoView({ behavior: 'smooth' });
        }
        
        function showContact() {
            // Hide all sections
            document.getElementById('categoriesSection').style.display = 'none';
            document.getElementById('contentSection').style.display = 'none';
            document.getElementById('aboutSection').style.display = 'none';
            document.querySelector('.py-8.bg-gray-100').style.display = 'none';
            
            // Show contact section
            document.getElementById('contactSection').style.display = 'block';
            
            // Scroll to section
            document.getElementById('contactSection').scrollIntoView({ behavior: 'smooth' });
        }

        // Event listeners
        document.getElementById('backButton').addEventListener('click', showCategories);
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performSearch();
            }
        });

        // Admin panel functions
        function showAdminPanel() {
            const adminPanel = document.getElementById('adminPanel');
            adminPanel.style.display = 'block';
            adminPanel.scrollIntoView({ behavior: 'smooth' });
        }

        function hideAdminPanel() {
            document.getElementById('adminPanel').style.display = 'none';
        }

        function refreshData() {
            loadDataFromSpreadsheet();
        }

        function updateSpreadsheetUrl() {
            const url = document.getElementById('spreadsheetUrlInput').value.trim();
            
            if (url) {
                SPREADSHEET_URL = url;
                
                // Save to localStorage
                localStorage.setItem('madrasah_spreadsheet_url', url);
                
                alert('URL spreadsheet berhasil disimpan! Klik "Refresh Data" untuk memuat data terbaru.');
            } else {
                alert('Mohon isi URL spreadsheet terlebih dahulu.');
            }
        }

        function loadSavedUrl() {
            const savedUrl = localStorage.getItem('madrasah_spreadsheet_url');
            
            if (savedUrl) {
                SPREADSHEET_URL = savedUrl;
                document.getElementById('spreadsheetUrlInput').value = savedUrl;
            }
        }

        // Initialize
        loadSavedUrl();
        loadDataFromSpreadsheet();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97517c8cb6a4c189',t:'MTc1NjE5MTk4Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
